(function(a){var b={data:[],autoStart:false,controlsPosition:"TR",welcomeMessage:'<h2 class="h2">Welcome to the jQuerin Grid Builder</h2>',buttons:{next:"Next",prev:"Previous",start:"Start",end:"End"},controlsColors:{background:"rgba(8, 68, 142, 0.80)",color:"#fff"},tooltipColors:{background:"rgba(8, 68, 142, 0.80)",color:"#fff"}};var c,d,e;var f,g,h,i;var j=false;var k=a("<div>",{id:"tourtip",className:"tourtip",html:""}).css({display:"none",padding:"10px 20px",position:"absolute","border-radius":"8px","font-size":"1em","box-sizing":"border-box"});var l={init:function(f){if(j==false){j=true;c=a.extend(b,f);controls='<div id="tourControls">          <div id="tourText">'+c.welcomeMessage+'</div>          <div id="tourButtons">            <button id="tourPrev" style="display:none">'+c.buttons.prev+'</button>            <button id="tourNext">'+c.buttons.start+'</button>            <button id="tourEnd" style="display:none">'+c.buttons.end+"</button>          </div>        </div>";$controlsCss={display:"block",position:"fixed",width:"200px",padding:"10px 20px","border-radius":"10px","font-family":"sans-serif"};$controls=a(controls).css($controlsCss).css(c.controlsColors);$cpos=l.getControlPosition(c.controlsPosition);$controls.css($cpos);a("body").append($controls);k.css(c.tooltipColors);d=-1;e=c.data.length;a("body").prepend(k)}},next:function(){d++;if(d==e){l.destroy()}else{k.hide();stepData=c.data[d];if(d<=e){a("#tourPrev").show();a("#tourEnd").show();a("#tourNext").show().html("Next")}l.setTooltip(stepData)}},prev:function(){k.hide();if(d<e){a("#tourNext").show().html(c.buttons.next)}if(d<=0){a("#tourPrev").hide();a("#tourEnd").hide();a("#tourNext").html(c.buttons.start);d--}else{d--;stepData=c.data[d];l.setTooltip(stepData)}},setTooltip:function(b){$element=a(b.element);if(typeof b.callback!="undefined"){if(b.callback=="click"){if($element.attr("href")!=""){location.href=$element.attr("href")}else{$element.click()}}}else{if(b.controlsPosition){l.setControlsPosition(b.controlsPosition)}k.html(b.tooltip);if(b.text){a("#tourText").html(b.text)}tooltipPos=typeof b.position=="undefined"?"BL":b.position;$pos=l.getTooltipPosition(tooltipPos,$element);k.css({top:$pos.top+"px",left:$pos.left+"px"});k.show("fast");a.scrollTo(k,200,{offset:-100})}},setControlsPosition:function(b){chtml=$controls.html();$controls.remove();$controls=a(controls).html(chtml);$controls=$controls.css($controlsCss).css(c.controlsColors);position=l.getControlPosition(b);$controls.css(position);a("body").append($controls)},getTooltipPosition:function(b,c){f=$element.outerWidth();g=$element.outerHeight();h=$element.offset().left;i=$element.offset().top;tw=k.width()+parseInt(k.css("padding-left"))+parseInt(k.css("padding-right"));th=k.height()+parseInt(k.css("padding-top"))+ +parseInt(k.css("padding-bottom"));a(".tourArrow").remove();tbg=k.css("background-color");$upArrow=a('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-left":"5px solid transparent","border-right":"5px solid transparent","border-bottom":"5px solid "+tbg});$downArrow=a('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-left":"5px solid transparent","border-right":"5px solid transparent","border-top":"5px solid "+tbg});$rightArrow=a('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-top":"5px solid transparent","border-bottom":"5px solid transparent","border-left":"5px solid "+tbg});$leftArrow=a('<div class="tourArrow"></div>').css({position:"absolute",display:"block",width:"0",height:"0","border-top":"5px solid transparent","border-bottom":"5px solid transparent","border-right":"5px solid "+tbg});switch(b){case"BL":position={left:h,top:i+g+10};$upArrow.css({top:"-5px",left:"48%"});k.prepend($upArrow);break;case"BR":position={left:h+f-tw,top:i+g+10};$upArrow.css({top:"-5px",left:"48%"});k.prepend($upArrow);break;case"TL":position={left:h,top:i-th-10};$downArrow.css({top:th,left:"48%"});k.append($downArrow);break;case"TR":position={left:h+f-tw,top:i-th-10};$downArrow.css({top:th,left:"48%"});k.append($downArrow);break;case"RT":position={left:h+f+10,top:i};$leftArrow.css({left:"-5px"});k.prepend($leftArrow);break;case"RB":position={left:h+f+10,top:i+g-th};$leftArrow.css({left:"-5px"});k.prepend($leftArrow);break;case"LT":position={left:h-tw-10,top:i};$rightArrow.css({right:"-5px"});k.prepend($rightArrow);break;case"LB":position={left:h-tw-10,top:i+g-th};$rightArrow.css({right:"-5px"});k.prepend($rightArrow);break;case"B":position={left:h+f/2-tw/2,top:i+g+10};$upArrow.css({top:"-5px",left:"48%"});k.prepend($upArrow);break;case"L":position={left:h-tw-10,top:i+g/2-th/2};$rightArrow.css({right:"-5px"});k.prepend($rightArrow);break;case"T":position={left:h+f/2-tw/2,top:i-th-10};$downArrow.css({top:th,left:"48%"});k.append($downArrow);break;case"R":position={left:h+f+10,top:i+g/2-th/2};$leftArrow.css({left:"-5px"});k.prepend($leftArrow);break}return position},getControlPosition:function(a){switch(a){case"TR":a={top:"10px",right:"10px"};break;case"TL":a={top:"10px",left:"10px"};break;case"BL":a={bottom:"10px",left:"10px"};break;case"BR":a={bottom:"10px",right:"10px"};break}return a},destroy:function(){a("#tourControls").remove();a("#tourtip").remove();k.css({display:"none"}).html("");d=-1;j=false}};a("#tourNext").live("click",function(){l.next()});a("#tourPrev").live("click",function(){l.prev()});a("#tourEnd").live("click",function(){l.destroy()});a.fn.aSimpleTour=function(b){if(l[b]){return l[b].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof b==="object"||!b){return l.init.apply(this,arguments)}else{a.error("Method "+b+" does not exist on jQuery.aSimpleTour")}}})(jQuery);$.aSimpleTour=function(a){$.fn.aSimpleTour(a)}